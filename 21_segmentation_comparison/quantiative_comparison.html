
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quantitative labeling comparison &#8212; Bio-image Analysis Notebooks</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Feature extraction" href="../22_feature_extraction/readme.html" />
    <link rel="prev" title="Visual labeling comparison" href="visual_comparison.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Bio-image Analysis Notebooks</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Bio-image Analysis Notebooks
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../01_introduction/trailer.html">
   Trailer: Bio-image Analysis with Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01_introduction/readme.html">
   Setting up your computer
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02_python_basics/readme.html">
   Python basics
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_python_basics/01_our_first_juptyer_notebook.html">
     Python code in Jupyter notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_python_basics/02_Math_in_python.html">
     Basic math in python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_python_basics/03_Dont_try_this_at_home.html">
     Pitfalls when working with Jupyter notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_python_basics/04_Basic_types.html">
     Basic types in python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_python_basics/05_lists_tuples.html">
     Lists and tuples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_python_basics/05a_cropping_lists.html">
     Cropping lists
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_python_basics/05b_sorting_lists.html">
     Sorting lists
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_python_basics/06_Dictionaries_and_tables.html">
     Dictionaries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_python_basics/07_Conditions.html">
     Conditions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_python_basics/08_loops.html">
     Loops
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_python_basics/09_custom_functions.html">
     Functions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03_advanced_python/readme.html">
   Advanced python programming
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03_advanced_python/custom_libraries.html">
     Custom libraries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03_advanced_python/functional_parameters.html">
     Functional parameters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03_advanced_python/napari_workflows.html">
     Workflows in napari
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03_advanced_python/parallelization.html">
     Parallelization
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../12_image_analysis_basics/readme.html">
   Image analysis basics
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../12_image_analysis_basics/01_Introduction_to_image_processing.html">
     Introduction to image processing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../12_image_analysis_basics/02_Working_with_images.html">
     Working with images
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../12_image_analysis_basics/04_multi_channel_image_data.html">
     Multi-channel image data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../12_image_analysis_basics/image_file_formats.html">
     Image file formats
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../15_gpu_acceleration/readme.html">
   GPU accelerated image processing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../15_gpu_acceleration/clesperanto.html">
     clEsperanto
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../15_gpu_acceleration/why_GPU_acceleration.html">
     Why GPU-acceleration makes sense
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../15_gpu_acceleration/cupy.html">
     GPU-accelerated image processing using CUPY and CUCIM
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../15_gpu_acceleration/memory_management.html">
     Tracing memory consumption
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../15_gpu_acceleration/further_reading.html">
     Further reading
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../16_3d_image_visualization/readme.html">
   Image visualization in 3D
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../16_3d_image_visualization/10_nd_image_data.html">
     Multidimensional image stacks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../16_3d_image_visualization/inspecting_3d_images.html">
     Inspecting 3D image data with pyclesperanto
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../16_3d_image_visualization/05_napari.html">
     Interactive image visualization with napari
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../18_image_filtering/readme.html">
   Image filtering
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../18_image_filtering/01_Filtering.html">
     Filtering images
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../18_image_filtering/convolution.html">
     Convolution
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../18_image_filtering/02_noise_removal.html">
     Noise removal filters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../18_image_filtering/03_background_removal.html">
     Background removal filters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../18_image_filtering/edge_detection_and_enhancement.html">
     Edge detection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../18_image_filtering/simpleitk.html">
     Processing images using SimpleITK
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../18a_deconvolution/readme.html">
   Image deconvolution
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../18a_deconvolution/introduction_deconvolution.html">
     An introduction to image deconvolution
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../18a_deconvolution/extract_psf.html">
     Determining the point-spread-function from a bead image by averaging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../18a_deconvolution/richardson_lucy_deconvolution.html">
     Richardson-Lucy-Deconvolution on OpenCL-compatible GPUs
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../19_spatial_transforms/readme.html">
   Spatial transforms
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../19_spatial_transforms/coordinate_systems.html">
     Coordinate systems
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../19_spatial_transforms/cropping.html">
     Slicing and cropping
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../19_spatial_transforms/affine_transforms_scikit_image.html">
     Affine transforms using scikit-image
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../19_spatial_transforms/affine_transforms_scipy.html">
     Affine transforms using Scipy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../19_spatial_transforms/affine_transforms_cupy.html">
     Affine transforms using cupy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../19_spatial_transforms/affine_transforms_clesperanto.html">
     Affine transforms using clesperanto
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../20_image_segmentation/readme.html">
   Image segmentation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../20_image_segmentation/06_Introduction_to_image_segmentation.html">
     Image segmentation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20_image_segmentation/07_Thresholding.html">
     Thresholding
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20_image_segmentation/08_binary_mask_refinement.html">
     Binary mask refinement
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20_image_segmentation/08a_split_touching_objects.html">
     Split touching objects
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20_image_segmentation/09_connected_component_labeling.html">
     Label images
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20_image_segmentation/09a_gauss_otsu_labeling.html">
     Gauss-Otsu-labeling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20_image_segmentation/10_touching_objects_labeling.html">
     Touching objects labeling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20_image_segmentation/11_voronoi_otsu_labeling.html">
     Voronoi-Otsu-labeling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20_image_segmentation/12_open_close_labels.html">
     Label image refinement
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20_image_segmentation/14_remove_labels_on_image_edges.html">
     Remove labels on image edges
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20_image_segmentation/15_sequential_labeling.html">
     Sequential object (re-)labeling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20_image_segmentation/segmentation_2d_membranes.html">
     Seeded watershed for membrane-based cell segmentation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20_image_segmentation/refine_cell_segmentation.html">
     Post-processing for membrane-based cell segmentation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20_image_segmentation/Segmentation_3D.html">
     3D Image Segmentation
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../20a_pixel_classification/readme.html">
   Machine learning for image segmentation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../20a_pixel_classification/scikit_learn_random_forest_pixel_classifier.html">
     Pixel classification using Scikit-learn
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20a_pixel_classification/apoc_object_segmenter.html">
     Object segmentation on OpenCL-compatible GPUs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20a_pixel_classification/apoc_pixel_classifier.html">
     Pixel classification on OpenCL-compatible GPUs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20a_pixel_classification/mutlichannel_images.html">
     Pixel classification in multi-channel images
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20a_pixel_classification/apoc_probability_mapper.html">
     Probability maps
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20a_pixel_classification/apoc_train_on_folders.html">
     Training pixel classifiers from folders of images
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20a_pixel_classification/feature_stacks.html">
     Generating feature stacks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20a_pixel_classification/selecting_features.html">
     Selecting features
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="readme.html">
   Comparing segmentation algorithms
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="scenario_otsu_segmentation.html">
     Scenario: Comparing different implementations of the same thresholding algorithm
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="visual_comparison.html">
     Visual labeling comparison
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Quantitative labeling comparison
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../22_feature_extraction/readme.html">
   Feature extraction
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../22_feature_extraction/quantitative_measurements.html">
     Quantitative image analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../22_feature_extraction/count_blobs.html">
     Counting bright objects in images
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../22_feature_extraction/statistics_with_pyclesperanto.html">
     Basic statistics with pyclesperanto
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../22_feature_extraction/statistics_with_simpleitk.html">
     Statistics using SimpleITK
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../22_feature_extraction/comparison_of_measurements_from_different_libraries.html">
     Comparison of measurements from different libraries
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../25_neighborhood_relationships_between_cells/readme.html">
   Neighborhood analysis in tissues
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../25_neighborhood_relationships_between_cells/01_neighborhood_definitions.html">
     Neighborhood definitions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../25_neighborhood_relationships_between_cells/05_count_touching_neighbors.html">
     Count touching neighbors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../25_neighborhood_relationships_between_cells/06_mesh_with_distances.html">
     Draw distance-meshes between neighbors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../25_neighborhood_relationships_between_cells/distance_to_other_labels.html">
     Measure the distance to cells in another label image
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../25_neighborhood_relationships_between_cells/other_proximal_labels_count.html">
     Count proximal labels in an other label image
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../25_neighborhood_relationships_between_cells/neighbor_meshes_in_3d.html">
     Neighbor meshes in three dimensions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../25_neighborhood_relationships_between_cells/label_neighbor_filters.html">
     Label neighbor filters
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../27_cell_classification/readme.html">
   Cell classification
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../27_cell_classification/apoc_object_classifier.html">
     Object classification on OpenCL-compatible GPUs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../27_cell_classification/forest_statistics.html">
     Random forest decision making statistics
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../28_colocalization/readme.html">
   Colocalization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../28_colocalization/counting_nuclei_multichannel.html">
     Counting nuclei according to expression in multiple channels
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../28_colocalization/differentiate_nuclei_intensity.html">
     Differentiating nuclei according to signal intensity
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../31_graphical_user_interfaces/readme.html">
   Graphical user interfaces
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../31_graphical_user_interfaces/napari_magicgui.html">
     Interactive parameter tuning with napari and magicgui
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../31_graphical_user_interfaces/napari_dask.html">
     Tribolium embryo morphometry over time in Napari
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../31_graphical_user_interfaces/napari_crop.html">
     Interactive cropping with napari
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../32_tiled_image_processing/readme.html">
   Tiled image processing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
  <label for="toctree-checkbox-17">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../32_tiled_image_processing/tiled_nuclei_counting_quick.html">
     Tiled image processing, a quick run-through
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../32_tiled_image_processing/tiling_images_naive_approach.html">
     Tiling images - the naive approach
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../32_tiled_image_processing/tiling_images_with_overlap.html">
     Tiling images with overlap
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../32_tiled_image_processing/tiled_connected_component_labeling.html">
     Connected component labeling in tiles
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../32_tiled_image_processing/tiled_object_measurements.html">
     Measurements in objects in tiled images
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../32_tiled_image_processing/tiled_image_file_formats_zarr.html">
     Tiled image file formats: zarr
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../32_tiled_image_processing/tiled_area_mapping.html">
     Map area of objects in tiles
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../32_tiled_image_processing/tiled_nuclei_counting.html">
     Counting nuclei in tiles
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../33_batch_processing/readme.html">
   Batch processing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
  <label for="toctree-checkbox-18">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../33_batch_processing/12_process_folders.html">
     How process files in a folder
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../40_tabular_data_wrangling/readme.html">
   Tabular data wrangling
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
  <label for="toctree-checkbox-19">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../40_tabular_data_wrangling/introduction_dataframes.html">
     Introduction to working with DataFrames
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../40_tabular_data_wrangling/explore_dataset.html">
     Exploring tabular data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../40_tabular_data_wrangling/descriptive_statistics.html">
     Basic descriptive statistcs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../40_tabular_data_wrangling/handling_NaNs.html">
     Handling NaN values
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../40_tabular_data_wrangling/pivot_tables.html">
     Pivot tables
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../51_plotting/readme.html">
   Plotting
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/>
  <label for="toctree-checkbox-20">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../51_plotting/plotting_seaborn.html">
     Plotting using seaborn
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../51_plotting/plotting_matplotlib.html">
     Plotting with Matplotlib
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../51_plotting/bland_altman_analysis.html">
     Bland-Altman plots
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../60_data_visualization/readme.html">
   Data visualization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/>
  <label for="toctree-checkbox-21">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../60_data_visualization/overlay_text_on_image.html">
     Overlay texts on images
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../60_data_visualization/parametric_maps.html">
     Parametric maps
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../60_data_visualization/quantitative_neighbor_maps.html">
     Quantitative maps from neighbor statistics
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01_introduction/glossary.html">
   Glossary
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../imprint.html">
   Imprint
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/21_segmentation_comparison/quantiative_comparison.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/haesleinhuepf/BioImageAnalysisNotebooks"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/haesleinhuepf/BioImageAnalysisNotebooks/issues/new?title=Issue%20on%20page%20%2F21_segmentation_comparison/quantiative_comparison.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/haesleinhuepf/BioImageAnalysisNotebooks/main?urlpath=tree/docs/21_segmentation_comparison/quantiative_comparison.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comparing-label-counts">
   Comparing label counts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#quantitative-comparison">
   Quantitative comparison
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#student-s-t-test-testing-for-differences">
   Student’s t-test - testing for differences
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#two-sided-t-test-for-equivalence-testing">
   Two-sided t-test for equivalence testing
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Quantitative labeling comparison</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comparing-label-counts">
   Comparing label counts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#quantitative-comparison">
   Quantitative comparison
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#student-s-t-test-testing-for-differences">
   Student’s t-test - testing for differences
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#two-sided-t-test-for-equivalence-testing">
   Two-sided t-test for equivalence testing
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="quantitative-labeling-comparison">
<h1>Quantitative labeling comparison<a class="headerlink" href="#quantitative-labeling-comparison" title="Permalink to this headline">¶</a></h1>
<p>Segmentation algorithms may produce different results. These differences may or may not be crucial, depending on the purpose of the scientific analysis these algorithms are used for.</p>
<p>In this notebook we will check if the number of segmented objects is different using Otsu’s thresholding method on blobs.tif and we will check if the area measurements are different between these two algorithms. The visual comparison performed before suggests that there should be a difference in area measurements.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">skimage.io</span> <span class="kn">import</span> <span class="n">imread</span><span class="p">,</span> <span class="n">imsave</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">skimage.measure</span> <span class="kn">import</span> <span class="n">regionprops</span>
<span class="kn">from</span> <span class="nn">pyclesperanto_prototype</span> <span class="kn">import</span> <span class="n">imshow</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">describe</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">ttest_ind</span>
<span class="kn">from</span> <span class="nn">statsmodels.stats.weightstats</span> <span class="kn">import</span> <span class="n">ttost_ind</span>
</pre></div>
</div>
</div>
</div>
<p>Just as a recap, we take a quick look at the two label images. One was produced in ImageJ, the other using scikit-image.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">blobs_labels_imagej</span> <span class="o">=</span> <span class="n">imread</span><span class="p">(</span><span class="s2">&quot;blobs_labels_imagej.tif&quot;</span><span class="p">)</span>
<span class="n">blobs_labels_skimage</span> <span class="o">=</span> <span class="n">imread</span><span class="p">(</span><span class="s2">&quot;blobs_labels_skimage.tif&quot;</span><span class="p">)</span>

<span class="n">imshow</span><span class="p">(</span><span class="n">blobs_labels_imagej</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">imshow</span><span class="p">(</span><span class="n">blobs_labels_skimage</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/quantiative_comparison_3_0.png" src="../_images/quantiative_comparison_3_0.png" />
<img alt="../_images/quantiative_comparison_3_1.png" src="../_images/quantiative_comparison_3_1.png" />
</div>
</div>
<div class="section" id="comparing-label-counts">
<h2>Comparing label counts<a class="headerlink" href="#comparing-label-counts" title="Permalink to this headline">¶</a></h2>
<p>First, we will count the number of objects in the two images. If the images are labeled subsequently, which means every integer label between 0 and the maximum of the labels exits, the maximum intensity in these label images corresponds to the number of labels present in the image.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">blobs_labels_imagej</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">blobs_labels_skimage</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(63, 64)
</pre></div>
</div>
</div>
</div>
<p>If the images are not subsequently labeled, we should first determine the unique sets of labels and count them. If background intensity (<code class="docutils literal notranslate"><span class="pre">0</span></code>) is present, these two numbers will be higher by one than the maximum.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">blobs_labels_imagej</span><span class="p">)),</span> <span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">blobs_labels_skimage</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(64, 65)
</pre></div>
</div>
</div>
</div>
<p>Comparing label counts from one single image gives limited insights. It shall be recommended to compare counts from multiple images and apply statistical tests as shown below. With these error analysis methods one can get deeper insights into how different the algorithms are.</p>
</div>
<div class="section" id="quantitative-comparison">
<h2>Quantitative comparison<a class="headerlink" href="#quantitative-comparison" title="Permalink to this headline">¶</a></h2>
<p>Depending on the desired scientific analysis, the found number of objects may not be relevant, but the area of the found objects might be. Hence, we shoud compare how different area measurements between the algorithms are. Also this should actually be done using multiplel images. We demonstrate it with the single image to make it easisly reproducible.</p>
<p>First, we derive area measurements from the label images and take a quick look.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">imagej_statistics</span> <span class="o">=</span> <span class="n">regionprops</span><span class="p">(</span><span class="n">blobs_labels_imagej</span><span class="p">)</span>
<span class="n">imagej_areas</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">area</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">imagej_statistics</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">imagej_areas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[415, 181, 646, 426, 465, 273, 74, 264, 221, 25, 485, 639, 92, 216, 432, 387, 503, 407, 257, 345, 149, 399, 407, 245, 494, 272, 659, 171, 350, 527, 581, 10, 611, 184, 584, 20, 260, 871, 461, 228, 158, 387, 398, 233, 364, 629, 364, 558, 62, 158, 450, 598, 525, 197, 544, 828, 267, 201, 1, 87, 73, 49, 46]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">skimage_statistics</span> <span class="o">=</span> <span class="n">regionprops</span><span class="p">(</span><span class="n">blobs_labels_skimage</span><span class="p">)</span>
<span class="n">skimage_areas</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">area</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">skimage_statistics</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">skimage_areas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[433, 185, 658, 434, 477, 285, 81, 278, 231, 30, 501, 660, 99, 228, 448, 401, 520, 425, 271, 350, 159, 412, 426, 260, 506, 289, 676, 175, 361, 545, 610, 14, 641, 195, 593, 22, 268, 902, 473, 239, 167, 413, 415, 244, 377, 652, 379, 578, 69, 170, 472, 613, 543, 204, 555, 858, 281, 215, 3, 1, 81, 90, 53, 49]
</pre></div>
</div>
</div>
</div>
<p>Just to confirm our insights from above, we check the number of measurements</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">imagej_areas</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">skimage_areas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(63, 64)
</pre></div>
</div>
</div>
</div>
<p>A simple and yet powerful approach for comparing quantitative measurements visually, is to draw histograms of the measurements, e.g. using <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.hist.html">matplotlib’s <code class="docutils literal notranslate"><span class="pre">hist</span></code> method</a>. This method works for non-paired data and for paired datasets.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">imagej_areas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([10.,  5., 11.,  5., 12.,  6.,  7.,  5.,  0.,  2.]),
 array([  1.,  88., 175., 262., 349., 436., 523., 610., 697., 784., 871.]),
 &lt;BarContainer object of 10 artists&gt;)
</pre></div>
</div>
<img alt="../_images/quantiative_comparison_15_1.png" src="../_images/quantiative_comparison_15_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">skimage_areas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([11.,  5., 11.,  6., 11.,  6.,  7.,  5.,  0.,  2.]),
 array([  1. ,  91.1, 181.2, 271.3, 361.4, 451.5, 541.6, 631.7, 721.8,
        811.9, 902. ]),
 &lt;BarContainer object of 10 artists&gt;)
</pre></div>
</div>
<img alt="../_images/quantiative_comparison_16_1.png" src="../_images/quantiative_comparison_16_1.png" />
</div>
</div>
<p>The histograms look very similar, and small differences can be identified.</p>
<p>We can nicer to read overview by using scipy’s <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.describe.html"><code class="docutils literal notranslate"><span class="pre">describe</span></code> method</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">describe</span><span class="p">(</span><span class="n">imagej_areas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DescribeResult(nobs=63, minmax=(1, 871), mean=339.8888888888889, variance=43858.100358422926, skewness=0.2985582216973995, kurtosis=-0.5512673189985389)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">describe</span><span class="p">(</span><span class="n">skimage_areas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DescribeResult(nobs=64, minmax=(1, 902), mean=347.546875, variance=47422.15649801587, skewness=0.29237468285874324, kurtosis=-0.5465739129172253)
</pre></div>
</div>
</div>
</div>
<p>A bit easier to read is the output of <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.describe.html">pandas’ <code class="docutils literal notranslate"><span class="pre">describe</span></code> mwethod</a>. In order to make it work for our data, we need to create to pandas DataFrames and concatenate them. This is necessary because we have measurements with different lengths (<a class="reference external" href="https://stackoverflow.com/questions/27126511/add-columns-different-length-pandas/33404243">read more</a>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">table1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;ImageJ&quot;</span><span class="p">:</span> <span class="n">imagej_areas</span>
<span class="p">}</span>
<span class="n">table2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;scikit-image&quot;</span><span class="p">:</span> <span class="n">skimage_areas</span>
<span class="p">}</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">table1</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">table2</span><span class="p">)],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ImageJ</th>
      <th>scikit-image</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>63.000000</td>
      <td>64.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>339.888889</td>
      <td>347.546875</td>
    </tr>
    <tr>
      <th>std</th>
      <td>209.423256</td>
      <td>217.766289</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.000000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>182.500000</td>
      <td>182.500000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>350.000000</td>
      <td>355.500000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>489.500000</td>
      <td>502.250000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>871.000000</td>
      <td>902.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="student-s-t-test-testing-for-differences">
<h2>Student’s t-test - testing for differences<a class="headerlink" href="#student-s-t-test-testing-for-differences" title="Permalink to this headline">¶</a></h2>
<p>We now know that the mean of the measurements are different. We should determine if the differences between the measurements are significant.</p>
<p>We can use the <a class="reference external" href="https://en.wikipedia.org/wiki/Student%27s_t-test">Student’s t-test</a> for that using the null-hypothesis: Means of measurements are different. We use the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_ind.html"><code class="docutils literal notranslate"><span class="pre">ttest_ind</span></code> method</a> because we do not have paired datasets.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">imagej_areas</span><span class="p">,</span> <span class="n">skimage_areas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ttest_indResult(statistic=-0.20194436015007275, pvalue=0.8402885093667958)
</pre></div>
</div>
</div>
</div>
<p>From the printed p-value we can <em>not</em> conclude that differences are insignificant. We can only say that according to the given sample, significance could not be shown.</p>
</div>
<div class="section" id="two-sided-t-test-for-equivalence-testing">
<h2>Two-sided t-test for equivalence testing<a class="headerlink" href="#two-sided-t-test-for-equivalence-testing" title="Permalink to this headline">¶</a></h2>
<p>For proving that two algorithms perform similarly and means are different less that a given threshold, we can use a two-sided t-test, e.g. using statsmodels’ <a class="reference external" href="https://www.statsmodels.org/dev/generated/statsmodels.stats.weightstats.ttost_ind.html"><code class="docutils literal notranslate"><span class="pre">ttost_ind</span></code> method</a>. Our null-hypothesis: Means of measurements are more than 5% different.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">five_percent_error_threshold</span> <span class="o">=</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">imagej_areas</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">skimage_areas</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
<span class="n">five_percent_error_threshold</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>17.185894097222224
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ttost_ind</span><span class="p">(</span><span class="n">imagej_areas</span><span class="p">,</span> <span class="n">skimage_areas</span><span class="p">,</span> <span class="o">-</span><span class="n">five_percent_error_threshold</span><span class="p">,</span> <span class="n">five_percent_error_threshold</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0.40101477051276024,
 (0.25125499758118736, 0.40101477051276024, 125.0),
 (-0.6551437178813329, 0.2567895351853574, 125.0))
</pre></div>
</div>
</div>
</div>
<p>Note to self: I’m not sure if I interpret the result correctly. I’m also not sure if I use this test correctly. If anyone reads this, and understands why the p-value here is 0.4, please get in touch: <a class="reference external" href="mailto:robert&#46;haase&#37;&#52;&#48;tu-dresden&#46;de">robert<span>&#46;</span>haase<span>&#64;</span>tu-dresden<span>&#46;</span>de</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>ttost_ind<span class="o">?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold -Color-Bold-Red">Signature:</span>
ttost_ind<span class=" -Color -Color-Bold -Color-Bold-Yellow">(</span>
    x1<span class=" -Color -Color-Bold -Color-Bold-Yellow">,</span>
    x2<span class=" -Color -Color-Bold -Color-Bold-Yellow">,</span>
    low<span class=" -Color -Color-Bold -Color-Bold-Yellow">,</span>
    upp<span class=" -Color -Color-Bold -Color-Bold-Yellow">,</span>
    usevar<span class=" -Color -Color-Bold -Color-Bold-Yellow">=</span><span class=" -Color -Color-Bold -Color-Bold-Blue">&#39;pooled&#39;</span><span class=" -Color -Color-Bold -Color-Bold-Yellow">,</span>
    weights<span class=" -Color -Color-Bold -Color-Bold-Yellow">=(</span><span class=" -Color -Color-Bold -Color-Bold-Green">None</span><span class=" -Color -Color-Bold -Color-Bold-Yellow">,</span> <span class=" -Color -Color-Bold -Color-Bold-Green">None</span><span class=" -Color -Color-Bold -Color-Bold-Yellow">),</span>
    transform<span class=" -Color -Color-Bold -Color-Bold-Yellow">=</span><span class=" -Color -Color-Bold -Color-Bold-Green">None</span><span class=" -Color -Color-Bold -Color-Bold-Yellow">,</span>
<span class=" -Color -Color-Bold -Color-Bold-Yellow">)</span>
<span class=" -Color -Color-Bold -Color-Bold-Red">Docstring:</span>
test of (non-)equivalence for two independent samples

TOST: two one-sided t tests

null hypothesis:  m1 - m2 &lt; low or m1 - m2 &gt; upp
alternative hypothesis:  low &lt; m1 - m2 &lt; upp

where m1, m2 are the means, expected values of the two samples.

If the pvalue is smaller than a threshold, say 0.05, then we reject the
hypothesis that the difference between the two samples is larger than the
the thresholds given by low and upp.

Parameters
----------
x1 : array_like, 1-D or 2-D
    first of the two independent samples, see notes for 2-D case
x2 : array_like, 1-D or 2-D
    second of the two independent samples, see notes for 2-D case
low, upp : float
    equivalence interval low &lt; m1 - m2 &lt; upp
usevar : str, &#39;pooled&#39; or &#39;unequal&#39;
    If ``pooled``, then the standard deviation of the samples is assumed to be
    the same. If ``unequal``, then Welch ttest with Satterthwait degrees
    of freedom is used
weights : tuple of None or ndarrays
    Case weights for the two samples. For details on weights see
    ``DescrStatsW``
transform : None or function
    If None (default), then the data is not transformed. Given a function,
    sample data and thresholds are transformed. If transform is log, then
    the equivalence interval is in ratio: low &lt; m1 / m2 &lt; upp

Returns
-------
pvalue : float
    pvalue of the non-equivalence test
t1, pv1 : tuple of floats
    test statistic and pvalue for lower threshold test
t2, pv2 : tuple of floats
    test statistic and pvalue for upper threshold test

Notes
-----
The test rejects if the 2*alpha confidence interval for the difference
is contained in the ``(low, upp)`` interval.

This test works also for multi-endpoint comparisons: If d1 and d2
have the same number of columns, then each column of the data in d1 is
compared with the corresponding column in d2. This is the same as
comparing each of the corresponding columns separately. Currently no
multi-comparison correction is used. The raw p-values reported here can
be correction with the functions in ``multitest``.
<span class=" -Color -Color-Bold -Color-Bold-Red">File:</span>      c:\users\rober\miniconda3\envs\bio_39\lib\site-packages\statsmodels\stats\weightstats.py
<span class=" -Color -Color-Bold -Color-Bold-Red">Type:</span>      function
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./21_segmentation_comparison"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="visual_comparison.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Visual labeling comparison</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../22_feature_extraction/readme.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Feature extraction</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Robert Haase, Miguel Fernandes, Marcelo Leomil Zoccoler & add-your-name-here-by-sending-a-pull-request-containing-a-notebook<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>